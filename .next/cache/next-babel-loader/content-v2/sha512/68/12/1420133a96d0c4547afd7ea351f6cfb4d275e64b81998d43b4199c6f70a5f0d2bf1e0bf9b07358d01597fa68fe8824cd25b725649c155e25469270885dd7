{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/User/Desktop/ADVANCED REACT/mernChat/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/User/Desktop/ADVANCED REACT/mernChat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\ADVANCED REACT\\\\mernChat\\\\components\\\\Post\\\\LikesList.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useffect, useState } from 'react';\nimport { List, Popup, Image } from 'semantic-ui-react';\nimport axios from 'axios';\nimport baseUrl from '../../utils/baseUrl';\nimport catchErrors from '../../utils/catchErrors';\nimport cookie from 'js-cookie';\nimport Link from 'next/link';\nimport { LikesPlaceHolder } from '../Layout/PlaceHolderGroup';\n\nvar LikesList = function LikesList(_ref) {\n  _s();\n\n  var postId = _ref.postId,\n      trigger = _ref.trigger;\n\n  var _useState = useState([]),\n      likeList = _useState[0],\n      setLikeList = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var getLikesList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var token, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              token = cookie.get('token');\n              _context.next = 5;\n              return axios.get(\"\".concat(baseUrl, \"/api/posts/like/\").concat(postId), {\n                headers: {\n                  Authorization: token\n                }\n              });\n\n            case 5:\n              res = _context.sent;\n              setLikeList(res.data);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              alert(catchErrors(_context.t0));\n\n            case 12:\n              setLoading(false);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function getLikesList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Popup, {\n    on: \"click\",\n    onClose: function onClose() {\n      return setLikeList([]);\n    },\n    onOpen: getLikesList,\n    popperDependencies: [LikesList],\n    trigger: trigger,\n    wide: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, loading ? __jsx(LikesPlaceHolder, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }) : __jsx(React.Fragment, null, likeList.length > 0 && __jsx(\"div\", {\n    style: {\n      overflow: 'auto',\n      maxHeight: '15rem',\n      height: '15rem',\n      minWidth: '210px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, __jsx(List, {\n    selection: true,\n    size: \"large\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, likeList.map(function (like) {\n    return __jsx(List.Item, {\n      key: like._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }\n    }, __jsx(Image, {\n      avatar: true,\n      src: like.user.profilePicUrl,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }), __jsx(List.Content, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, __jsx(Link, {\n      href: \"/\".concat(like.user.username),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 23\n      }\n    }, __jsx(List.Header, {\n      as: \"a\",\n      content: like.user.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }))));\n  })))));\n};\n\n_s(LikesList, \"PJ0R5to24+wdW7WtHxVmtgCiPrs=\");\n\n_c = LikesList;\nexport default LikesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"LikesList\");","map":{"version":3,"sources":["C:/Users/User/Desktop/ADVANCED REACT/mernChat/components/Post/LikesList.js"],"names":["React","useffect","useState","List","Popup","Image","axios","baseUrl","catchErrors","cookie","Link","LikesPlaceHolder","LikesList","postId","trigger","likeList","setLikeList","loading","setLoading","getLikesList","token","get","headers","Authorization","res","data","alert","length","overflow","maxHeight","height","minWidth","map","like","_id","user","profilePicUrl","username","name"],"mappings":"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","sourcesContent":["import React, { useffect, useState } from 'react';\r\nimport { List, Popup, Image } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport baseUrl from '../../utils/baseUrl';\r\nimport catchErrors from '../../utils/catchErrors';\r\nimport cookie from 'js-cookie';\r\nimport Link from 'next/link';\r\nimport { LikesPlaceHolder } from '../Layout/PlaceHolderGroup';\r\n\r\nconst LikesList = ({ postId, trigger }) => {\r\n  const [likeList, setLikeList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getLikesList = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = cookie.get('token');\r\n      const res = await axios.get(`${baseUrl}/api/posts/like/${postId}`, {\r\n        headers: { Authorization: token },\r\n      });\r\n      setLikeList(res.data);\r\n    } catch (error) {\r\n      alert(catchErrors(error));\r\n    }\r\n    setLoading(false);\r\n  };\r\n  return (\r\n    <Popup\r\n      on=\"click\"\r\n      onClose={() => setLikeList([])}\r\n      onOpen={getLikesList}\r\n      popperDependencies={[LikesList]}\r\n      trigger={trigger}\r\n      wide\r\n    >\r\n      {loading ? (\r\n        <LikesPlaceHolder />\r\n      ) : (\r\n        <>\r\n          {likeList.length > 0 && (\r\n            <div\r\n              style={{\r\n                overflow: 'auto',\r\n                maxHeight: '15rem',\r\n                height: '15rem',\r\n                minWidth: '210px',\r\n              }}\r\n            >\r\n              <List selection size=\"large\">\r\n                {likeList.map((like) => (\r\n                  <List.Item key={like._id}>\r\n                    <Image avatar src={like.user.profilePicUrl} />\r\n\r\n                    <List.Content>\r\n                      <Link href={`/${like.user.username}`}>\r\n                        <List.Header as=\"a\" content={like.user.name} />\r\n                      </Link>\r\n                    </List.Content>\r\n                  </List.Item>\r\n                ))}\r\n              </List>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default LikesList;\r\n"]},"metadata":{},"sourceType":"module"}