{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/User/Desktop/ADVANCED REACT/mernChat/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"C:/Users/User/Desktop/ADVANCED REACT/mernChat/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:/Users/User/Desktop/ADVANCED REACT/mernChat/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"C:/Users/User/Desktop/ADVANCED REACT/mernChat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nimport baseUrl from './baseUrl';\nimport catchErrors from './catchErrors';\nimport cookie from 'js-cookie';\nimport Router from 'next/router';\nvar Axios = axios.create({\n  baseURL: \"\".concat(baseUrl, \"/api/profile\"),\n  headers: {\n    Authorization: cookie.get('token')\n  }\n});\nexport var followUser = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(userToFollowId, setUserFollowStats) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return Axios.post(\"/follow/\".concat(userToFollowId));\n\n          case 3:\n            setUserFollowStats(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                following: [].concat(_toConsumableArray(prev.following), [{\n                  user: userToFollowId\n                }])\n              });\n            });\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            alert(catchErrors(_context.t0));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 6]]);\n  }));\n\n  return function followUser(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var unFollowerUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userToUnFollowId, setUserFollowStats) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return Axios.put(\"/unfollow/\".concat(userToUnFollowId));\n\n          case 3:\n            setUserFollowStats(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                following: prev.following.filter(function (following) {\n                  return following.user !== userToUnFollowId;\n                })\n              });\n            });\n            _context2.next = 9;\n            break;\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            alert(catchErrors(_context2.t0));\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 6]]);\n  }));\n\n  return function unFollowerUser(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/User/Desktop/ADVANCED REACT/mernChat/utils/profileActions.js"],"names":["axios","baseUrl","catchErrors","cookie","Router","Axios","create","baseURL","headers","Authorization","get","followUser","userToFollowId","setUserFollowStats","post","prev","following","user","alert","unFollowerUser","userToUnFollowId","put","filter"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,IAAMC,KAAK,GAAGL,KAAK,CAACM,MAAN,CAAa;AACzBC,EAAAA,OAAO,YAAKN,OAAL,iBADkB;AAEzBO,EAAAA,OAAO,EAAE;AAAEC,IAAAA,aAAa,EAAEN,MAAM,CAACO,GAAP,CAAW,OAAX;AAAjB;AAFgB,CAAb,CAAd;AAKA,OAAO,IAAMC,UAAU;AAAA,sEAAG,iBAAOC,cAAP,EAAuBC,kBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEhBR,KAAK,CAACS,IAAN,mBAAsBF,cAAtB,EAFgB;;AAAA;AAGtBC,YAAAA,kBAAkB,CAAC,UAACE,IAAD;AAAA,qDACdA,IADc;AAEjBC,gBAAAA,SAAS,+BAAMD,IAAI,CAACC,SAAX,IAAsB;AAAEC,kBAAAA,IAAI,EAAEL;AAAR,iBAAtB;AAFQ;AAAA,aAAD,CAAlB;AAHsB;AAAA;;AAAA;AAAA;AAAA;AAQtBM,YAAAA,KAAK,CAAChB,WAAW,aAAZ,CAAL;;AARsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVS,UAAU;AAAA;AAAA;AAAA,GAAhB;AAYP,OAAO,IAAMQ,cAAc;AAAA,uEAAG,kBAAOC,gBAAP,EAAyBP,kBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEpBR,KAAK,CAACgB,GAAN,qBAAuBD,gBAAvB,EAFoB;;AAAA;AAG1BP,YAAAA,kBAAkB,CAAC,UAACE,IAAD;AAAA,qDACdA,IADc;AAEjBC,gBAAAA,SAAS,EAAED,IAAI,CAACC,SAAL,CAAeM,MAAf,CACT,UAACN,SAAD;AAAA,yBAAeA,SAAS,CAACC,IAAV,KAAmBG,gBAAlC;AAAA,iBADS;AAFM;AAAA,aAAD,CAAlB;AAH0B;AAAA;;AAAA;AAAA;AAAA;AAU1BF,YAAAA,KAAK,CAAChB,WAAW,cAAZ,CAAL;;AAV0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAdiB,cAAc;AAAA;AAAA;AAAA,GAApB","sourcesContent":["import axios from 'axios';\r\nimport baseUrl from './baseUrl';\r\nimport catchErrors from './catchErrors';\r\nimport cookie from 'js-cookie';\r\nimport Router from 'next/router';\r\n\r\nconst Axios = axios.create({\r\n  baseURL: `${baseUrl}/api/profile`,\r\n  headers: { Authorization: cookie.get('token') },\r\n});\r\n\r\nexport const followUser = async (userToFollowId, setUserFollowStats) => {\r\n  try {\r\n    await Axios.post(`/follow/${userToFollowId}`);\r\n    setUserFollowStats((prev) => ({\r\n      ...prev,\r\n      following: [...prev.following, { user: userToFollowId }],\r\n    }));\r\n  } catch (error) {\r\n    alert(catchErrors(error));\r\n  }\r\n};\r\n\r\nexport const unFollowerUser = async (userToUnFollowId, setUserFollowStats) => {\r\n  try {\r\n    await Axios.put(`/unfollow/${userToUnFollowId}`);\r\n    setUserFollowStats((prev) => ({\r\n      ...prev,\r\n      following: prev.following.filter(\r\n        (following) => following.user !== userToUnFollowId\r\n      ),\r\n    }));\r\n  } catch (error) {\r\n    alert(catchErrors(error));\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}