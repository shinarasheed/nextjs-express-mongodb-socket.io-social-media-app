{"ast":null,"code":"var jwt = require(\"jsonwebtoken\");\n\nmodule.exports = function (req, res, next) {\n  try {\n    if (!req.headers.authorization) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    var _jwt$verify = jwt.verify(req.headers.authorization, process.env.jwtSecret),\n        userId = _jwt$verify.userId;\n\n    req.userId = userId;\n    next();\n  } catch (error) {\n    console.error(error);\n    return res.status(401).send(\"Unauthorized\");\n  }\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/REACT/mernChat/middleware/authMiddleware.js"],"names":["jwt","require","module","exports","req","res","next","headers","authorization","status","send","verify","process","env","jwtSecret","userId","error","console"],"mappings":"AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnC,MAAI;AACF,QAAI,CAACF,GAAG,CAACG,OAAJ,CAAYC,aAAjB,EAAgC;AAC9B,aAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,gBAAP;AACD;;AAHC,sBAKiBV,GAAG,CAACW,MAAJ,CAAWP,GAAG,CAACG,OAAJ,CAAYC,aAAvB,EAAsCI,OAAO,CAACC,GAAR,CAAYC,SAAlD,CALjB;AAAA,QAKMC,MALN,eAKMA,MALN;;AAOFX,IAAAA,GAAG,CAACW,MAAJ,GAAaA,MAAb;AACAT,IAAAA,IAAI;AACL,GATD,CASE,OAAOU,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,WAAOX,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,gBAAP;AACD;AACF,CAdD","sourcesContent":["const jwt = require(\"jsonwebtoken\");\r\n\r\nmodule.exports = (req, res, next) => {\r\n  try {\r\n    if (!req.headers.authorization) {\r\n      return res.status(401).send(`Unauthorized`);\r\n    }\r\n\r\n    const { userId } = jwt.verify(req.headers.authorization, process.env.jwtSecret);\r\n\r\n    req.userId = userId;\r\n    next();\r\n  } catch (error) {\r\n    console.error(error);\r\n    return res.status(401).send(`Unauthorized`);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}