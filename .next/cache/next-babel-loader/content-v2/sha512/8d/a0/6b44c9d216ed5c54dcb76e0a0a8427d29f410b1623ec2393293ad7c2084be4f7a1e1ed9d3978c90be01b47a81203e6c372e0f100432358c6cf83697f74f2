{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/User/Desktop/REACT/mernChat/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/User/Desktop/REACT/mernChat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\REACT\\\\mernChat\\\\components\\\\Notifications\\\\FollowNotifications.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Feed, Button } from 'semantic-ui-react';\nimport calculateTime from '../../utils/calculateTime';\nimport { followUser, unFollowerUser } from '../../utils/profileActions';\n\nvar FollowNotifications = function FollowNotifications(_ref) {\n  _s();\n\n  var notification = _ref.notification,\n      loggedUserFollowStats = _ref.loggedUserFollowStats,\n      setUserFollowStats = _ref.setUserFollowStats;\n\n  var _useState = useState(false),\n      disabled = _useState[0],\n      setDisabled = _useState[1];\n\n  var isFollowing = loggedUserFollowStats.following.length > 0 && loggedUserFollowStats.following.filter(function (following) {\n    return following.user === notification.user._id;\n  }).length > 0;\n  return __jsx(React.Fragment, null, __jsx(Feed.Event, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, __jsx(Feed.Label, {\n    image: notification.user.profilePicUrl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }), __jsx(Feed.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, __jsx(Feed.Summary, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, __jsx(React.Fragment, null, __jsx(Feed.User, {\n    as: \"a\",\n    href: \"/\".concat(notification.user.username),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 15\n    }\n  }, notification.user.name), ' ', \"started following you\", __jsx(Feed.Date, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 15\n    }\n  }, calculateTime(notification.date)))), __jsx(\"div\", {\n    style: {\n      position: 'absolute',\n      right: '5px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    disabled: disabled,\n    size: \"small\",\n    compact: true,\n    icon: isFollowing ? 'check circle' : 'add user',\n    color: isFollowing ? 'instagram' : 'twitter',\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setDisabled(true);\n\n              if (!isFollowing) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return unFollowerUser(notification.user._id, setUserFollowStats);\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.next = 8;\n              return followUser(notification.user._id, setUserFollowStats);\n\n            case 8:\n              setDisabled(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  })))), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(FollowNotifications, \"5W82NUQ3Xqz75UbGysMcuZnIguI=\");\n\n_c = FollowNotifications;\nexport default FollowNotifications;\n\nvar _c;\n\n$RefreshReg$(_c, \"FollowNotifications\");","map":{"version":3,"sources":["C:/Users/User/Desktop/REACT/mernChat/components/Notifications/FollowNotifications.js"],"names":["React","useState","Feed","Button","calculateTime","followUser","unFollowerUser","FollowNotifications","notification","loggedUserFollowStats","setUserFollowStats","disabled","setDisabled","isFollowing","following","length","filter","user","_id","profilePicUrl","username","name","date","position","right"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Feed, Button } from 'semantic-ui-react';\r\nimport calculateTime from '../../utils/calculateTime';\r\nimport { followUser, unFollowerUser } from '../../utils/profileActions';\r\n\r\nconst FollowNotifications = ({\r\n  notification,\r\n  loggedUserFollowStats,\r\n  setUserFollowStats,\r\n}) => {\r\n  const [disabled, setDisabled] = useState(false);\r\n\r\n  const isFollowing =\r\n    loggedUserFollowStats.following.length > 0 &&\r\n    loggedUserFollowStats.following.filter(\r\n      (following) => following.user === notification.user._id\r\n    ).length > 0;\r\n\r\n  return (\r\n    <>\r\n      <Feed.Event>\r\n        <Feed.Label image={notification.user.profilePicUrl} />\r\n        <Feed.Content>\r\n          <Feed.Summary>\r\n            <>\r\n              <Feed.User as=\"a\" href={`/${notification.user.username}`}>\r\n                {notification.user.name}\r\n              </Feed.User>{' '}\r\n              started following you\r\n              <Feed.Date>{calculateTime(notification.date)}</Feed.Date>\r\n            </>\r\n          </Feed.Summary>\r\n          <div style={{ position: 'absolute', right: '5px' }}>\r\n            <Button\r\n              disabled={disabled}\r\n              size=\"small\"\r\n              compact\r\n              icon={isFollowing ? 'check circle' : 'add user'}\r\n              color={isFollowing ? 'instagram' : 'twitter'}\r\n              onClick={async () => {\r\n                setDisabled(true);\r\n                isFollowing\r\n                  ? await unFollowerUser(\r\n                      notification.user._id,\r\n                      setUserFollowStats\r\n                    )\r\n                  : await followUser(notification.user._id, setUserFollowStats);\r\n                setDisabled(false);\r\n              }}\r\n            />\r\n          </div>\r\n        </Feed.Content>\r\n      </Feed.Event>\r\n\r\n      <br />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FollowNotifications;\r\n"]},"metadata":{},"sourceType":"module"}