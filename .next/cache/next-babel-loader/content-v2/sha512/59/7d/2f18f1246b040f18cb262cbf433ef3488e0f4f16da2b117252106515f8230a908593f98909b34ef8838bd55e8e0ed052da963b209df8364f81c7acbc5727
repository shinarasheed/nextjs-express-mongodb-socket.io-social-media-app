{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/User/Desktop/REACT/mernChat/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/User/Desktop/REACT/mernChat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\REACT\\\\mernChat\\\\pages\\\\notifications.js\",\n    _this = this;\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from 'axios';\nimport baseUrl from '../utils/baseUrl';\nimport { parseCookies } from 'nookies';\n\nvar Notifications = function Notifications(_ref) {\n  var notifications = _ref.notifications,\n      errorLoading = _ref.errorLoading;\n  console.log(notifications);\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 10\n    }\n  });\n}; //This should now be Nofications.getServerSideProps\n\n\n_c = Notifications;\n\nNotifications.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var _parseCookies, token, res;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _parseCookies = parseCookies(ctx), token = _parseCookies.token;\n            _context.next = 4;\n            return axios.get(\"\".concat(baseUrl, \"/api/notifications\"), {\n              headers: {\n                Authorization: token\n              }\n            });\n\n          case 4:\n            res = _context.sent;\n            return _context.abrupt(\"return\", {\n              notifications: res.data\n            });\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", {\n              errorLoading: true\n            });\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Notifications;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notifications\");","map":{"version":3,"sources":["C:/Users/User/Desktop/REACT/mernChat/pages/notifications.js"],"names":["React","axios","baseUrl","parseCookies","Notifications","notifications","errorLoading","console","log","getInitialProps","ctx","token","get","headers","Authorization","res","data"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,YAAT,QAA6B,SAA7B;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAAqC;AAAA,MAAlCC,aAAkC,QAAlCA,aAAkC;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;AACzDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,aAAZ;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAHD,C,CAKA;;;KALMD,a;;AAMNA,aAAa,CAACK,eAAd;AAAA,uEAAgC,iBAAOC,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAEVP,YAAY,CAACO,GAAD,CAFF,EAEpBC,KAFoB,iBAEpBA,KAFoB;AAAA;AAAA,mBAIVV,KAAK,CAACW,GAAN,WAAaV,OAAb,yBAA0C;AAC1DW,cAAAA,OAAO,EAAE;AAAEC,gBAAAA,aAAa,EAAEH;AAAjB;AADiD,aAA1C,CAJU;;AAAA;AAItBI,YAAAA,GAJsB;AAAA,6CAQrB;AAAEV,cAAAA,aAAa,EAAEU,GAAG,CAACC;AAArB,aARqB;;AAAA;AAAA;AAAA;AAAA,6CAUrB;AAAEV,cAAAA,YAAY,EAAE;AAAhB,aAVqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhC;;AAAA;AAAA;AAAA;AAAA;;AAcA,eAAeF,aAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport baseUrl from '../utils/baseUrl';\r\nimport { parseCookies } from 'nookies';\r\n\r\nconst Notifications = ({ notifications, errorLoading }) => {\r\n  console.log(notifications);\r\n  return <div></div>;\r\n};\r\n\r\n//This should now be Nofications.getServerSideProps\r\nNotifications.getInitialProps = async (ctx) => {\r\n  try {\r\n    const { token } = parseCookies(ctx);\r\n\r\n    const res = await axios.get(`${baseUrl}/api/notifications`, {\r\n      headers: { Authorization: token },\r\n    });\r\n\r\n    return { notifications: res.data };\r\n  } catch (error) {\r\n    return { errorLoading: true };\r\n  }\r\n};\r\n\r\nexport default Notifications;\r\n"]},"metadata":{},"sourceType":"module"}