{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\ADVANCED REACT\\\\mernChat\\\\components\\\\Profile\\\\Followers.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Button, Image, List } from 'semantic-ui-react';\nimport Spinner from '../Layout/Spinner';\nimport axios from 'axios';\nimport baseUrl from '../../utils/baseUrl';\nimport cookie from 'js-cookie';\n\nconst Followers = ({\n  user,\n  ownAccount,\n  loggedUserFollowStats,\n  setUserFollowStats,\n  profileUserId\n}) => {\n  const {\n    0: followers,\n    1: setFollowers\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: followingLoading,\n    1: setFollowingLoading\n  } = useState(false);\n  useEffect(() => {\n    const getFollowers = async () => {\n      setLoading(true);\n\n      try {\n        const res = await axios.get(`${baseUrl}/api/profile/following/${profileUserId}`, {\n          headers: {\n            Authorization: cookie.get('token')\n          }\n        });\n        setFollowers(res.data);\n      } catch (error) {\n        console.log('Error loading followers');\n      }\n\n      setLoading(false);\n    };\n\n    getFollowers();\n  }, []);\n  return __jsx(React.Fragment, null, loading ? __jsx(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }) : followers.length > 0 && followers.map(profileFollower => {\n    const isFollowing = loggedUserFollowStats.following.length > 0 && loggedUserFollowStats.following.filter(following => following.user === profileFollower.user._id).length > 0;\n    return __jsx(React.Fragment, null, __jsx(List, {\n      key: profileFollower.user._id,\n      divided: true,\n      verticalAlign: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, __jsx(List.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, __jsx(List.Content, {\n      floated: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }\n    }, profileFollower.user._id !== user._id && __jsx(Button, {\n      color: isFollowing ? 'instagram' : 'twitter',\n      content: isFollowing ? 'Following' : 'Follow',\n      icon: isFollowing ? 'check' : 'add user',\n      disabled: followingLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 23\n      }\n    })), __jsx(Image, {\n      avatar: true,\n      src: profileFollower.user.profilePicUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }), __jsx(List.Content, {\n      as: \"a\",\n      href: `${profileFollower.user.username}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, profileFollower.user.name))));\n  }));\n};\n\nexport default Followers;","map":{"version":3,"sources":["C:/Users/User/Desktop/ADVANCED REACT/mernChat/components/Profile/Followers.js"],"names":["React","useState","useEffect","Button","Image","List","Spinner","axios","baseUrl","cookie","Followers","user","ownAccount","loggedUserFollowStats","setUserFollowStats","profileUserId","followers","setFollowers","loading","setLoading","followingLoading","setFollowingLoading","getFollowers","res","get","headers","Authorization","data","error","console","log","length","map","profileFollower","isFollowing","following","filter","_id","profilePicUrl","username","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button, Image, List } from 'semantic-ui-react';\r\nimport Spinner from '../Layout/Spinner';\r\nimport axios from 'axios';\r\nimport baseUrl from '../../utils/baseUrl';\r\nimport cookie from 'js-cookie';\r\n\r\nconst Followers = ({\r\n  user,\r\n  ownAccount,\r\n  loggedUserFollowStats,\r\n  setUserFollowStats,\r\n  profileUserId,\r\n}) => {\r\n  const [followers, setFollowers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [followingLoading, setFollowingLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getFollowers = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await axios.get(\r\n          `${baseUrl}/api/profile/following/${profileUserId}`,\r\n          { headers: { Authorization: cookie.get('token') } }\r\n        );\r\n        setFollowers(res.data);\r\n      } catch (error) {\r\n        console.log('Error loading followers');\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getFollowers();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Spinner />\r\n      ) : (\r\n        followers.length > 0 &&\r\n        followers.map((profileFollower) => {\r\n          const isFollowing =\r\n            loggedUserFollowStats.following.length > 0 &&\r\n            loggedUserFollowStats.following.filter(\r\n              (following) => following.user === profileFollower.user._id\r\n            ).length > 0;\r\n\r\n          return (\r\n            <>\r\n              <List\r\n                key={profileFollower.user._id}\r\n                divided\r\n                verticalAlign=\"middle\"\r\n              >\r\n                <List.Item>\r\n                  <List.Content floated=\"right\">\r\n                    {profileFollower.user._id !== user._id && (\r\n                      <Button\r\n                        color={isFollowing ? 'instagram' : 'twitter'}\r\n                        content={isFollowing ? 'Following' : 'Follow'}\r\n                        icon={isFollowing ? 'check' : 'add user'}\r\n                        disabled={followingLoading}\r\n                      />\r\n                    )}\r\n                  </List.Content>\r\n                  <Image avatar src={profileFollower.user.profilePicUrl} />\r\n                  <List.Content\r\n                    as=\"a\"\r\n                    href={`${profileFollower.user.username}`}\r\n                  >\r\n                    {profileFollower.user.name}\r\n                  </List.Content>\r\n                </List.Item>\r\n              </List>\r\n            </>\r\n          );\r\n        })\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n"]},"metadata":{},"sourceType":"module"}