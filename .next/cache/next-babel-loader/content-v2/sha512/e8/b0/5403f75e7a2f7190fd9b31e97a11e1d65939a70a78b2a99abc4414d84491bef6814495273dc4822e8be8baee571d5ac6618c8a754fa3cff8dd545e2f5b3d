{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\REACT\\\\mernChat\\\\components\\\\MessageNotificationModal.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Form, Modal, Segment, List, Icon } from 'semantic-ui-react';\nimport Link from 'next/link';\nimport calculateTime from '../utils/calculateTime';\n\nfunction MessageNotificationModal({\n  socket,\n  showNewMessageModal,\n  newMessageModal,\n  newMessageReceived,\n  user\n}) {\n  const {\n    0: text,\n    1: setText\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const onModalClose = () => showNewMessageModal(false);\n\n  const formSubmit = e => {\n    e.preventDefault();\n\n    if (socket.current) {\n      socket.current.emit('sendMsgFromNotification', {\n        userId: user._id,\n        msgSendToUserId: newMessageReceived.sender,\n        msg: text\n      });\n      socket.current.on('msgSentFromNotification', () => {\n        showNewMessageModal(false);\n      });\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    size: \"small\",\n    open: newMessageModal,\n    onClose: onModalClose,\n    closeIcon: true,\n    closeOnDimmerClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, __jsx(Modal.Header, {\n    content: `New Message from ${newMessageReceived.senderName}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), __jsx(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"bubbleWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"inlineContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    className: \"inlineIcon\",\n    src: newMessageReceived.senderProfilePic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"otherBubble other\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, newMessageReceived.msg), __jsx(\"span\", {\n    className: \"other\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, calculateTime(newMessageReceived.date))), __jsx(\"div\", {\n    style: {\n      position: 'sticky',\n      bottom: '0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, __jsx(Segment, {\n    secondary: true,\n    color: \"teal\",\n    attached: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, __jsx(Form, {\n    reply: true,\n    onSubmit: formSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, __jsx(Form.Input, {\n    size: \"large\",\n    placeholder: \"Send New Message\",\n    value: text,\n    onChange: e => setText(e.target.value),\n    action: {\n      color: 'blue',\n      icon: 'telegram plane',\n      disabled: text === '',\n      loading: loading\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })))), __jsx(\"div\", {\n    style: {\n      marginTop: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: `/messages?message=${newMessageReceived.sender}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, \"View All Messages\")), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), __jsx(Instructions, {\n    username: user.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  })))));\n}\n\nconst Instructions = ({\n  username\n}) => __jsx(List, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 3\n  }\n}, __jsx(List.Item, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }\n}, __jsx(Icon, {\n  name: \"help\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 7\n  }\n}), __jsx(List.Content, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 7\n  }\n}, __jsx(List.Header, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }\n}, \"If you do not like this popup to appear when you receive a new message:\"))), __jsx(List.Item, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }\n}, __jsx(Icon, {\n  name: \"hand point right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 7\n  }\n}), __jsx(List.Content, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 7\n  }\n}, \"You can disable it by going to\", __jsx(Link, {\n  href: `/${username}`,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }\n}, __jsx(\"a\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 11\n  }\n}, \" Account \")), \"Page and clicking on Settings Tab.\")), __jsx(List.Item, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }\n}, __jsx(Icon, {\n  name: \"hand point right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 7\n  }\n}), \"Inside the menu,there is an setting named: Show New Message Popup?\"), __jsx(List.Item, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }\n}, __jsx(Icon, {\n  name: \"hand point right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 7\n  }\n}), \"Just toggle the setting to disable/enable the Message Popup to appear.\"));\n\nexport default MessageNotificationModal;","map":{"version":3,"sources":["C:/Users/User/Desktop/REACT/mernChat/components/MessageNotificationModal.js"],"names":["React","useState","Form","Modal","Segment","List","Icon","Link","calculateTime","MessageNotificationModal","socket","showNewMessageModal","newMessageModal","newMessageReceived","user","text","setText","loading","setLoading","onModalClose","formSubmit","e","preventDefault","current","emit","userId","_id","msgSendToUserId","sender","msg","on","senderName","senderProfilePic","date","position","bottom","target","value","color","icon","disabled","marginTop","username","Instructions"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Modal, Segment, List, Icon } from 'semantic-ui-react';\r\nimport Link from 'next/link';\r\nimport calculateTime from '../utils/calculateTime';\r\n\r\nfunction MessageNotificationModal({\r\n  socket,\r\n  showNewMessageModal,\r\n  newMessageModal,\r\n  newMessageReceived,\r\n  user,\r\n}) {\r\n  const [text, setText] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onModalClose = () => showNewMessageModal(false);\r\n\r\n  const formSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (socket.current) {\r\n      socket.current.emit('sendMsgFromNotification', {\r\n        userId: user._id,\r\n        msgSendToUserId: newMessageReceived.sender,\r\n        msg: text,\r\n      });\r\n\r\n      socket.current.on('msgSentFromNotification', () => {\r\n        showNewMessageModal(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        size=\"small\"\r\n        open={newMessageModal}\r\n        onClose={onModalClose}\r\n        closeIcon\r\n        closeOnDimmerClick\r\n      >\r\n        <Modal.Header\r\n          content={`New Message from ${newMessageReceived.senderName}`}\r\n        />\r\n\r\n        <Modal.Content>\r\n          <div className=\"bubbleWrapper\">\r\n            <div className=\"inlineContainer\">\r\n              <img\r\n                className=\"inlineIcon\"\r\n                src={newMessageReceived.senderProfilePic}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"otherBubble other\">{newMessageReceived.msg}</div>\r\n\r\n            <span className=\"other\">\r\n              {calculateTime(newMessageReceived.date)}\r\n            </span>\r\n          </div>\r\n\r\n          <div style={{ position: 'sticky', bottom: '0px' }}>\r\n            <Segment secondary color=\"teal\" attached=\"bottom\">\r\n              <Form reply onSubmit={formSubmit}>\r\n                <Form.Input\r\n                  size=\"large\"\r\n                  placeholder=\"Send New Message\"\r\n                  value={text}\r\n                  onChange={(e) => setText(e.target.value)}\r\n                  action={{\r\n                    color: 'blue',\r\n                    icon: 'telegram plane',\r\n                    disabled: text === '',\r\n                    loading: loading,\r\n                  }}\r\n                />\r\n              </Form>\r\n            </Segment>\r\n          </div>\r\n\r\n          <div style={{ marginTop: '5px' }}>\r\n            <Link href={`/messages?message=${newMessageReceived.sender}`}>\r\n              <a>View All Messages</a>\r\n            </Link>\r\n\r\n            <br />\r\n\r\n            <Instructions username={user.username} />\r\n          </div>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nconst Instructions = ({ username }) => (\r\n  <List>\r\n    <List.Item>\r\n      <Icon name=\"help\" />\r\n      <List.Content>\r\n        <List.Header>\r\n          If you do not like this popup to appear when you receive a new\r\n          message:\r\n        </List.Header>\r\n      </List.Content>\r\n    </List.Item>\r\n\r\n    <List.Item>\r\n      <Icon name=\"hand point right\" />\r\n      <List.Content>\r\n        You can disable it by going to\r\n        <Link href={`/${username}`}>\r\n          <a> Account </a>\r\n        </Link>\r\n        Page and clicking on Settings Tab.\r\n      </List.Content>\r\n    </List.Item>\r\n\r\n    <List.Item>\r\n      <Icon name=\"hand point right\" />\r\n      Inside the menu,there is an setting named: Show New Message Popup?\r\n    </List.Item>\r\n\r\n    <List.Item>\r\n      <Icon name=\"hand point right\" />\r\n      Just toggle the setting to disable/enable the Message Popup to appear.\r\n    </List.Item>\r\n  </List>\r\n);\r\n\r\nexport default MessageNotificationModal;\r\n"]},"metadata":{},"sourceType":"module"}